{% extends 'myapp/base.html' %}
{%load static %}


{% block content %}

<!--    <div class="container">-->
<!--        <div class="jumbotron text-center">-->

<!--            {% if customer_objects %}-->

<!--                {% for data in customer_objects %}-->

<!--                    <div class="container-fluid">-->
<!--                        <div class="row">-->
<!--                            <div class="col-sm-3" ><a href="{% url 'person_detail' pk=data.pk%}">{{data.rst_number}}</a></div>-->
<!--                            <div class="col-sm-3" ><a href="{% url 'person_detail' pk=data.pk%}">{{data.customer_name}}</a></div>-->
<!--                            <div class="col-sm-3" ><a href="{% url 'person_detail' pk=data.pk%}">{{data.vehicle_number}}</a></div>-->
<!--                            <div class="col-sm-3" ><a href="{% url 'update_customer' pk=data.pk %}">-->
<!--                                <span class="glyphicon glyphicon-edit" data-toggle="Update" data-placement="top" title="update"></span></a><br>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--            {% endfor %}-->

<!--            {% else %}-->
<!--                <h1>There is no customer details</h1>-->
<!--            {%endif%}-->


<!--        </div>-->
<!--    </div>-->


    <div class="container jumbotron ">
        {% if customer_objects %}
            <h2>Filterable Table</h2>
            <p>Type something in the input field to search the table for RST Number:</p>
<!--            Search...<input class="form-control" id="input" type="text" placeholder="Search.."><br>-->
            <input class="form-control" id="myInput" type="text" placeholder="Search.."><br>
            <table class="table table-bordered table-striped text-center">
                <thead>
                  <tr >
                    <th class="text-center">Rst Number</th>
<!--                    <th class="text-center">Customer Name</th>-->
<!--                    <th class="text-center">Vehicle Number</th>-->
                      <th class="text-center">Update</th>
                      <th class="text-center">Customer Info</th>
                  </tr>
                </thead>
                {% for data in customer_objects %}
                    <tbody id="myTable" >
                        <tr>
                            <td>{{data.rst_number}}</td>
<!--                            <td>{{data.customer_name}}</td>-->
<!--                            <td>{{data.vehicle_number}}</td>-->
                            <td>
                                <a href="{% url 'update_customer' pk=data.pk %}">
                                    <span class="glyphicon glyphicon-edit" data-toggle="Update" data-placement="top" title="update"></span>
                                </a><br>
                            </td>
                            <td>
                                <a href="{% url 'customer_info' pk=data.pk %}">
                                    <span class="glyphicon glyphicon-info-sign" data-toggle="Information" data-placement="top" title="Information"></span>
                                </a><br>
                            </td>
                        </tr>

                    </tbody>
                {% endfor %}

          </table>
                <p>Note that we start the search in tbody, to prevent filtering the table headers.</p>
        {% else %}
                <h1>There is no Longer Customers</h1>
        {%endif%}
    </div>

    <script
                src="https://code.jquery.com/jquery-3.5.1.min.js"
                integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                crossorigin="anonymous">
    </script>

    <script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#myTable tr").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1).css('color', 'red')

        });
      });

<!--       $("#input").on("keyup", function() {-->
<!--        var value = $(this).val().toLowerCase();-->
<!--        $("#myTable tr").each(function() {-->
<!--              if ($(this).text().toLowerCase().indexOf(value) > -1){-->
<!--                $(this).show();-->
<!--                $(this).indexOf(value);-->
<!--              }-->
<!--              else{-->
<!--                $(this).hide();-->
<!--              }-->

<!--        });-->
<!--      });-->

    });
    </script>

{% endblock %}
